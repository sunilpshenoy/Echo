/*! For license information please see main.bab00ba6.js.LICENSE.txt */
(()=>{"use strict";var e={730:(e,t,n)=>{var r=n(43),a=n(853);function l(e){for(var t="https://e0ace9f7-0e4c-46c3-9a26-0a592ec88fc7.preview.emergentagent.com","/api");(0,a.useEffect)((()=>{(async()=>{const e=localStorage.getItem("token");if(e)try{const n=await zt.get("".concat(u,"/users/me"),{headers:{Authorization:"Bearer ".concat(e)}});t(n.data),r(e),n.data.profile_completed?s("dashboard"):s("profile_setup")}catch(n){console.error("Token validation failed:",n),localStorage.removeItem("token"),r(null),s("auth")}else s("auth");o(!1)})()}),[u]);return l?(0,Ft.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center",children:(0,Ft.jsxs)("div",{className:"text-center",children:[(0,Ft.jsx)("div",{className:"w-16 h-16 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin mx-auto mb-4"}),(0,Ft.jsx)("p",{className:"text-indigo-600 font-medium",children:"Loading your authentic connections..."})]})}):(0,Ft.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:["auth"===i&&(0,Ft.jsx)(At,{onAuthSuccess:(e,n)=>{t(e),r(n),localStorage.setItem("token",n),e.profile_completed?s("dashboard"):s("profile_setup")},api:u}),"profile_setup"===i&&(0,Ft.jsx)(Dt,{user:e,token:n,api:u,onProfileComplete:e=>{t(e),s("dashboard")}}),"dashboard"===i&&(0,Ft.jsx)(Bt,{user:e,token:n,api:u,onLogout:()=>{t(null),r(null),localStorage.removeItem("token"),s("auth")},onUserUpdate:e=>{t((t=>c(c({},t),e)))}})]})};l.createRoot(document.getElementById("root")).render((0,Ft.jsx)(a.StrictMode,{children:(0,Ft.jsx)(Vt,{})}))})();
//# sourceMappingURL=main.bab00ba6.js.map