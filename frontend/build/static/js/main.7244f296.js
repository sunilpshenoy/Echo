/*! For license information please see main.7244f296.js.LICENSE.txt */
(()=>{var e={730:(e,t,n)=>{"use strict";var a=n(43),r=n(853);function s(e){for(var t="https://eeb72202-3468-4b02-b50b-ed9b2f7f7750.preview.emergentagent.com","/api");(0,t.useEffect)((()=>{const t=localStorage.getItem("i18nextLng")||localStorage.getItem("pulse-language");t&&t!==e.language&&(e.changeLanguage(t),document.documentElement.lang=t,document.documentElement.dir="ur"===t?"rtl":"ltr");(async()=>{const e=localStorage.getItem("token");if(e)try{const t=await sa.get("".concat(d,"/users/me"),{headers:{Authorization:"Bearer ".concat(e)}});a(t.data),s(e),t.data.profile_completed?u("dashboard"):u("profile_setup")}catch(t){console.error("Token validation failed:",t),localStorage.removeItem("token"),s(null),u("auth")}else u("auth");i(!1)})()}),[e]),(0,t.useEffect)((()=>{const t=e=>{localStorage.setItem("i18nextLng",e),localStorage.setItem("pulse-language",e),document.documentElement.lang=e,document.documentElement.dir="ur"===e?"rtl":"ltr",i(!0),setTimeout((()=>i(!1)),100)};return e.on("languageChanged",t),()=>{e.off("languageChanged",t)}}),[e]);return o?(0,oa.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center",children:(0,oa.jsxs)("div",{className:"text-center",children:[(0,oa.jsx)("div",{className:"w-16 h-16 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin mx-auto mb-4"}),(0,oa.jsx)("p",{className:"text-indigo-600 font-medium",children:"Loading your secure connections..."})]})}):(0,oa.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:["auth"===c&&(0,oa.jsx)(la,{onAuthSuccess:(e,t)=>{a(e),s(t),localStorage.setItem("token",t),e.profile_completed?u("dashboard"):u("profile_setup")},api:d}),"profile_setup"===c&&(0,oa.jsx)(ca,{user:n,token:r,api:d,onProfileComplete:e=>{a(e),u("dashboard")}}),"dashboard"===c&&(0,oa.jsx)(ba,{user:n,token:r,api:d,onLogout:()=>{a(null),s(null),localStorage.removeItem("token"),u("auth")},onUserUpdate:e=>{a((t=>l(l({},t),e)))}})]})};a.createRoot(document.getElementById("root")).render((0,oa.jsx)(t.StrictMode,{children:(0,oa.jsx)(xa,{})}))})()})();
//# sourceMappingURL=main.7244f296.js.map